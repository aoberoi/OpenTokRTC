<!DOCTYPE html>
<html lang="en">
<head>
  <title>WebRTC Demo - Video chatting in room <%= rid %></title>
  <% include _header %>
  <link rel="stylesheet" href="/css/room.css" />
  <script src="//static.opentok.com/webrtc/v2.2-plugin-beta/js/opentok.min.js"></script>
  <script src="/vendors/handlebars.js" type="text/javascript"></script>
  <script src="/js/layoutContainer.js" type="text/javascript"></script>
</head>
<body>

<div class="container">

  <div id="streams_container">
    <div class="streamContainer" id="myPublisherContainer">
      <div id="myPublisher"></div>
    </div>
  </div>

  <div id="chatroom">
    <section id="title">
      <div id="title_content">
        <h1 class="titleText"><%= rid %></h1>
        <p>
        Invite: 
         <a href="mailto:?subject=Join me in a Video Conference&body=Please join me in a video conference at https://OpenTokRTC.com/<%= rid %>">
            https://opentokrtc.com/<%= rid %>
         </a> 
        </p>
      </div>
    </section>

    <div id="displayChat"></div>
    <div id="chatInput">
      <input type="" id="messageInput" disabled/>
      <i class="icon-comments-alt"></i>
    </div>
  </div>

  <div id="filterContainer">
    <h1>Filters: </h1>
    <div id="filterOptions">
      <h1 class="filterOption" data-value="Blur">Blur</h1>
      <h1 class="filterOption" data-value="Sepia">Sepia</h1>
      <h1 class="filterOption" data-value="Grayscale" >Grayscale</h1>
      <h1 class="filterOption" data-value="Invert" >Invert</h1>
      <h1 class="filterOption optionSelected" data-value="None">None</h1>
    </div>
  </div>
</div>


<script id="messageTemplate" type="text/x-handlebars-template">
<div class="chatMessage"><em>{{name}}: </em>{{{text}}}</div>
</script>

<script id="notifyTemplate" type="text/x-handlebars-template">
  <div class="chatEvent chatMessage"><em>{{message}}</em></div>
</script>

<script id="userStreamTemplate" type="text/x-handlebars-template">
  <div class="streamContainer {{id}}" data-connectionid="{{connectionId}}">
    <div id="{{id}}"></div>
    <div class="flagUser" data-streamconnection="{{id}}">Remove User</div>
  </div>
</script>

<script src="/js/room.js" type="text/javascript"></script>
<script type="text/javascript">
  new User("<%= rid %>", "<%= apiKey %>", "<%= sid %>", "<%= token %>");
</script>

<% include _analytics %>

</body>
</html>
